<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Quiz App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Flip card styling */
        .flip-card {
            background-color: transparent;
            width: 100%;
            height: 200px;
            perspective: 1000px;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            border-radius: 8px;
        }

        .flip-card-front {
            background-color: #f7fafc;
        }

        .flip-card-back {
            background-color: #f7fafc;
            transform: rotateY(180deg);
        }

        .correct {
            background-color: #34D399; /* Green for correct */
        }

        .incorrect {
            background-color: #F87171; /* Red for incorrect */
        }
    </style>
</head>
<body class="bg-gradient-to-r from-blue-500 to-purple-600 font-sans flex justify-center items-center h-screen">
    <!-- Landing Page -->
    <div id="landingPage" class="text-center">
        <h1 class="text-4xl font-bold text-white mb-4">Welcome to Code Cards</h1>
        <p class="text-lg text-white mb-6">Test your knowledge of programming languages!</p>
        <button id="continueButton" class="px-6 py-3 bg-yellow-500 text-white rounded-md hover:bg-yellow-400">
            Continue
        </button>
    </div>

    <!-- Home Page (Hidden Initially) -->
    <div id="homePage" class="hidden w-full max-w-lg p-6 bg-white rounded-lg shadow-md relative">
        <!-- Language Selection Step -->
        <div id="languageSelection" class="text-center">
            <h2 class="text-2xl font-semibold text-gray-800">Select a Programming Language</h2>
            <p class="mt-2 text-lg text-gray-600">Choose a language to proceed to the quiz questions.</p>
            <div class="mt-4 flex justify-center space-x-4">
                <button id="jsBtn" class="px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-500">JavaScript</button>
                <button id="pyBtn" class="px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-500">Python</button>
                <button id="cBtn" class="px-6 py-3 bg-red-600 text-white rounded-md hover:bg-red-500">C</button>
            </div>
        </div>

        <!-- Quiz Questions (Initially Hidden) -->
        <div id="quizSection" class="hidden space-y-6 relative">
            <!-- Back Button -->
            <button id="backButton" 
                class="absolute top-[-3rem] left-1 px-4 py-2  text-gray-800 rounded-md hover:underline">
                ‚Üê Back
            </button>

            <div id="questionCard">
                <!-- Question will be inserted dynamically here -->
            </div>
            <div id="options" class="space-y-4">
                <!-- Options will be inserted dynamically here -->
            </div>
            <div class="mt-4 text-center">
                <span id="attemptsLeft" class="text-lg text-gray-600">Attempts Left: 3</span>
            </div>
            <div id="nextButton" class="hidden mt-6 text-center">
                <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-500">Next Question</button>
            </div>
            <!-- End Quiz Button -->
            <div class="absolute bottom-4 right-4">
                <button id="endQuizButton" class="px-4 py-[-2]  bg-red-600 text-white rounded-md hover:bg-red-500">
                    End Quiz
                </button>
            </div>
        </div>
    </div>

    <script>
        let selectedLanguage = null;
        let currentQuestionIndex = 0;
        let attempts = 3;

        // Question bank
        const questions = {
            JavaScript: [
                { 
                    question: "What does DOM stand for?", 
                    options: ["Document Object Model", "Data Object Method", "Dynamic Object Model", "Data Operations Mechanism"],
                    correctAnswer: "Document Object Model" 
                },
                { 
                    question: "Which company developed JavaScript?", 
                    options: ["Microsoft", "Google", "Netscape", "Sun Microsystems"],
                    correctAnswer: "Netscape" 
                }
            ],
            Python: [
                { 
                    question: "What is the default extension of a Python file?", 
                    options: [".py", ".python", ".txt", ".exe"],
                    correctAnswer: ".py" 
                },
                { 
                    question: "Which Python library is used for data manipulation?", 
                    options: ["NumPy", "Matplotlib", "Pandas", "Seaborn"],
                    correctAnswer: "Pandas" 
                }
            ],
            C: [
                { 
                    question: "What does 'C' stand for in C programming?", 
                    options: ["Control", "Compiler", "C is named after its predecessor, B", "Code"],
                    correctAnswer: "C is named after its predecessor, B" 
                },
                { 
                    question: "Which company developed C?", 
                    options: ["Microsoft", "Apple", "Bell Labs", "Intel"],
                    correctAnswer: "Bell Labs" 
                }
            ]
        };

        // Elements
        const landingPage = document.getElementById('landingPage');
        const homePage = document.getElementById('homePage');
        const languageSelectionDiv = document.getElementById('languageSelection');
        const quizSectionDiv = document.getElementById('quizSection');
        const continueButton = document.getElementById('continueButton');
        const jsBtn = document.getElementById('jsBtn');
        const pyBtn = document.getElementById('pyBtn');
        const cBtn = document.getElementById('cBtn');
        const backButton = document.getElementById('backButton');
        const endQuizButton = document.getElementById('endQuizButton');

        // Show Home Page when "Continue" button is clicked
        continueButton.addEventListener('click', () => {
            landingPage.classList.add('hidden');
            homePage.classList.remove('hidden');
        });

        jsBtn.addEventListener('click', () => selectLanguage('JavaScript'));
        pyBtn.addEventListener('click', () => selectLanguage('Python'));
        cBtn.addEventListener('click', () => selectLanguage('C'));

        function selectLanguage(language) {
            selectedLanguage = language;
            languageSelectionDiv.classList.add('hidden');
            quizSectionDiv.classList.remove('hidden');
            backButton.classList.remove('hidden'); // Show Back button
            loadQuestion();
        }

        backButton.addEventListener('click', () => {
            quizSectionDiv.classList.add('hidden');
            languageSelectionDiv.classList.remove('hidden');
            backButton.classList.add('hidden'); // Hide Back button
            resetQuiz();
        });

        endQuizButton.addEventListener('click', () => {
            alert("Quiz Ended! Thank you for participating.");
            resetQuiz();
            languageSelectionDiv.classList.remove('hidden');
            quizSectionDiv.classList.add('hidden');
            backButton.classList.add('hidden'); // Hide Back button
        });

        function loadQuestion() {
            const question = questions[selectedLanguage][currentQuestionIndex];
            const questionCard = document.getElementById('questionCard');
            const optionsDiv = document.getElementById('options');
            attempts = 3;

            questionCard.innerHTML = `
                <div class="flip-card">
                    <div class="flip-card-inner" id="flipCardInner">
                        <div class="flip-card-front">
                            <h3 class="text-xl font-semibold text-gray-800">Question ${currentQuestionIndex + 1}</h3>
                            <p class="mt-2 text-lg text-gray-600">${question.question}</p>
                        </div>
                        <div class="flip-card-back" id="flipCardBack">
                            <p class="text-lg text-white"></p>
                        </div>
                    </div>
                </div>
            `;

            optionsDiv.innerHTML = question.options.map((option, index) => `
                <button class="w-full px-4 py-2 bg-gray-100 text-left rounded-md hover:bg-blue-100 option-btn" data-answer="${option}">
                    ${String.fromCharCode(65 + index)}. ${option}
                </button>`).join("");

            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.addEventListener('click', () => validateAnswer(btn));
            });

            document.getElementById('nextButton').classList.add('hidden');
            document.getElementById('attemptsLeft').textContent = `Attempts Left: ${attempts}`;
        }

        function validateAnswer(button) {
            const answer = button.dataset.answer;
            const question = questions[selectedLanguage][currentQuestionIndex];
            const correctAnswer = question.correctAnswer;
            const flipCardBack = document.getElementById('flipCardBack');
            const flipCardInner = document.getElementById('flipCardInner');
            const attemptsLeft = document.getElementById('attemptsLeft');

            if (answer === correctAnswer) {
                flipCardBack.textContent = "Correct!";
                flipCardBack.classList.add('correct');
                flipCardBack.classList.remove('incorrect');
                flipCardInner.style.transform = "rotateY(180deg)";
                document.getElementById('nextButton').classList.remove('hidden');
                disableOptions();
            } else {
                attempts--;
                if (attempts > 0) {
                    flipCardBack.textContent = "Incorrect! Try again.";
                    flipCardBack.classList.add('incorrect');
                    flipCardInner.style.transform = "rotateY(180deg)";
                    setTimeout(() => {
                        flipCardInner.style.transform = "rotateY(0deg)";
                    }, 1000);
                } else {
                    flipCardBack.textContent = `Incorrect! The correct answer is: ${correctAnswer}`;
                    flipCardBack.classList.add('incorrect');
                    flipCardInner.style.transform = "rotateY(180deg)";
                    document.getElementById('nextButton').classList.remove('hidden');
                    disableOptions();
                }
            }

            attemptsLeft.textContent = `Attempts Left: ${Math.max(attempts, 0)}`;
        }

        function disableOptions() {
            document.querySelectorAll('.option-btn').forEach(btn => {
                btn.disabled = true;
                btn.classList.add('opacity-50');
            });
        }

        document.getElementById('nextButton').addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions[selectedLanguage].length) {
                loadQuestion();
            } else {
                alert("Quiz Complete!");
                resetQuiz();
                languageSelectionDiv.classList.remove('hidden');
                quizSectionDiv.classList.add('hidden');
                backButton.classList.add('hidden'); // Hide Back button
            }
        });

        function resetQuiz() {
            selectedLanguage = null;
            currentQuestionIndex = 0;
            attempts = 3;
        }
    </script>
</body>
</html>
